<!DOCTYPE html>

<html>
	<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
	<title>Pedal Power</title>
	<link rel="stylesheet" type="text/css" href="http://kthomas852.github.io/geog485/style.css">
	<link rel="icon" type="image/png" href="https://raw.githubusercontent.com/kthomas852/cycleplus/gh-pages/images/bike.png"/>
	
	<script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0dWBXabL1Nuc8sobGUL76dNYbOBVEKwQ&callback=initMap">
        </script>
	
	/* <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0dWBXabL1Nuc8sobGUL76dNYbOBVEKwQ&callback=initMapv=3.exp"></script> */
	<script type="text/javascript" src="http://ecn.dev.virtualearth.net/mapcontrol/mapcontrol.ashx?v=6.2&mkt=en-us"></script>
	<script type="text/javascript" src="http://openlayers.org/api/OpenLayers.js"></script>
	
	
	<script>        
	// define global variables
        
                    // Google Maps Layers
	

        // =============== Initialization function ===================
       function initialize() {
  var myLatlng = new google.maps.LatLng(35.084506, -106.624899);
  var mapOptions = {
    zoom: 13,
    center: myLatlng
  };

  var map = new google.maps.Map(document.getElementById('map-canvas',{
   controls: [
                        new OpenLayers.Control.Navigation({zoomWheelEnabled:false}),
                        new OpenLayers.Control.NavToolbar(),
                        new OpenLayers.Control.PanZoomBar(),
                        new OpenLayers.Control.LayerSwitcher({'ascending':false}),
                        new OpenLayers.Control.Permalink(),
                        new OpenLayers.Control.ScaleLine(),
                        new OpenLayers.Control.Permalink('permalink'),
                        new OpenLayers.Control.MousePosition(),
                        new OpenLayers.Control.OverviewMap(),
                        new OpenLayers.Control.KeyboardDefaults()
                    ],}),
      mapOptions);

  var kmlLayer = new google.maps.KmlLayer({
    url: 'https://raw.githubusercontent.com/kthomas852/geog485/gh-pages/night.kml',
    suppressInfoWindows: true,
    map: map
  });
  
   var bikeroutes = new google.maps.KmlLayer({
    url: 'https://raw.githubusercontent.com/kthomas852/geog485/gh-pages/BikeRoutes.kml',
    suppressInfoWindows: true,
    map: map
  });

  google.maps.event.addListener(kmlLayer, 'click', function(kmlEvent) {
    var text = kmlEvent.featureData.description;
    showInContentWindow(text);
  });
map.addControl(new OpenLayers.Control.LayerSwitcher() );
  function showInContentWindow(text) {
    var sidediv = document.getElementById('content-window');
    sidediv.innerHTML = text;
  }
  
}

google.maps.event.addDomListener(window, 'load', initialize);
       
        // =============== End of Initialization Function ============
    </script>
  </head>
  <body onLoad="init()">
	
 <div id='cssmenu'>
<ul>
   <li class='active'><a href='http://kthomas852.github.io/geog485/index.html'><span>Home</span></a></li>
   <li class='has-sub'><a href='http://kthomas852.github.io/geog485/GMV.html'><span>Danger Zones</span></a>
   <li class='has-sub'><a href='http://kthomas852.github.io/geog485/Ride.html'><span>Where to Ride</span></a>
   <li class='has-sub'><a href='http://kthomas852.github.io/geog485/Ref.html'><span>References</span></a></li>
   
   
   </div>
   
	<h2>Map showing the roads with the most incident of accidents.  High danger<br> 
		areas are highlighted in red, areas of decreasing danger follow the<br> 
		color scheme from yellow to green.</h2>
		<br>
    <img src="https://raw.githubusercontent.com/kthomas852/geog485/gh-pages/images/DangerLegend.jpg" width="322" height="79"><br>
    <div id="map-canvas" style="width:58%; height:80%; float:left"></div>
    <div id="content-window" style="width:19%; height:100%; float:left; background: #FFFFFF"></div>
    
   

</body>
</html>
